# ğŸ“° MCP News Server

> A clean, minimal MCP wrapper around the Hacker News API â€” built to showcase the Modular Contract Protocol (MCP) structure, typed contracts, and LLM-compatible interface.

## ğŸŒ Live Demo

ğŸŸ¢ Deployed at: [https://mcp-news-server.onrender.com](https://mcp-news-server.onrender.com)

### Try It Now

- [GET /api/listTopStories](https://mcp-news-server.onrender.com/api/listTopStories)
- [GET /api/getStory/8863](https://mcp-news-server.onrender.com/api/getStory/8863)
- [GET /openapi.json](https://mcp-news-server.onrender.com/openapi.json)

---

## ğŸš€ What is This?

This project demonstrates how to transform an existing REST API into an **MCP-compliant server**. It wraps the [Hacker News API](https://github.com/HackerNews/API) using modular components:

- **Contracts** defined with `zod` and `zod-openapi` for typed and documented inputs/outputs
- **Resolvers** for business logic
- **Handlers** for HTTP routing
- **OpenAPI integration** for LLM function calling

My goal with this wrapper is to **learn and demonstrate the full MCP process**, and prepare APIs for the **MCP marketplace** â€” where tools and agents can discover and use them programmatically.

---

## ğŸ’¡ Why Use MCP Instead of Raw REST Calls?

Traditional REST APIs:

- âŒ No contracts
- âŒ Inconsistent formats
- âŒ Not LLM friendly

MCP APIs:

- âœ… Contract-driven (with Zod)
- âœ… Composable and self-descriptive
- âœ… LLM-ready (via OpenAPI and function schemas)

---

## ğŸ”§ Tech Stack

- Node.js + Express
- TypeScript
- Zod + `zod-openapi`
- Axios
- Deployed on Render

---

## ğŸ“ Project Structure

```
src/
â”œâ”€â”€ contracts/                # Zod + OpenAPI metadata
â”œâ”€â”€ resolvers/                # Business logic
â”œâ”€â”€ handlers/                 # Express routes
â”œâ”€â”€ utils/                    # Hacker News client
â”œâ”€â”€ docs/openapi.ts           # OpenAPI spec generator (zod-openapi)
â”œâ”€â”€ setup/zod-openapi-init.ts # Shared zod setup with OpenAPI support
â””â”€â”€ server.ts                 # Main entry point
```

---

## ğŸ—‚ï¸ Endpoints

### 1. `GET /api/listTopStories`

Returns a list of top Hacker News story IDs.

#### Example:

```bash
curl https://mcp-news-server.onrender.com/api/listTopStories
```

#### Response:

```json
[38643, 38642, 38641]
```

---

### 2. `GET /api/getStory/:id`

Returns full story data for a given story ID.

#### Example:

```bash
curl https://mcp-news-server.onrender.com/api/getStory/8863
```

#### Response:

```json
{
  "id": 8863,
  "title": "My YC app: Dropbox - Throw away your USB drive",
  "url": "http://www.getdropbox.com/u/2/screencast.html",
  "score": 111,
  "by": "dhouston",
  "time": 1175714200,
  "type": "story"
}
```

---

## ğŸ§  How LLMs Can Use This

Each MCP endpoint is:

- Strictly typed
- Schema-bound with Zod
- Self-documenting via OpenAPI

This makes it ideal for:

- LLM agents (OpenAI, Claude)
- LangChain tools
- ai-agent-flow pipelines

---

## ğŸ¤– Function Calling Example (OpenAI / Claude)

```json
{
  "name": "getStory",
  "description": "Retrieve story details by ID from Hacker News",
  "parameters": {
    "type": "object",
    "properties": {
      "id": {
        "type": "string",
        "description": "The numeric ID of the Hacker News story"
      }
    },
    "required": ["id"]
  }
}
```

â¡ï¸ Point to:
`GET https://mcp-news-server.onrender.com/api/getStory/:id`

---

## ğŸ“„ OpenAPI Schema

```bash
curl https://mcp-news-server.onrender.com/openapi.json
```

This endpoint can be used in:

- Swagger UI
- API clients (Postman, Insomnia)
- LLM frameworks for function discovery

---

## ğŸ› ï¸ Local Setup

```bash
git clone https://github.com/rajeshdh/mcp-news-server
cd mcp-news-server
npm install
npm run dev
```

---

## âœ¨ What You Can Build with This

- A summarizer tool for top HN stories
- A GPT agent that fetches and ranks HN stories
- A fact-checking or news validation agent
- Your own open MCP marketplace entry!

---

## ğŸ“œ License

MIT
